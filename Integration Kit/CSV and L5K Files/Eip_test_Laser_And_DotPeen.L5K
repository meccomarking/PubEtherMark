(*********************************************

  Import-Export
  Version   := RSLogix 5000 v20.01
  Owner     := Mecco, Mecco Marking & Traceability
  Exported  := Fri Dec 13 09:19:30 2013

  Note:  File encoded in UTF-8.  Only edit file in a program 
         which supports UTF-8 (like Notepad, not Wordpad).

**********************************************)
IE_VER := 2.11;

CONTROLLER EIP_Test2 (ProcessorType := "1769-L16ER-BB1B",
                      Major := 20,
                      TimeSlice := 20,
                      ShareUnusedTimeSlice := 1,
                      RedundancyEnabled := 0,
                      KeepTestEditsOnSwitchOver := 0,
                      DataTablePadPercentage := 50,
                      SecurityCode := 0,
                      ChangesToDetect := 16#ffff_ffff_ffff_ffff,
                      SFCExecutionControl := "CurrentActive",
                      SFCRestartPosition := "MostRecent",
                      SFCLastScan := "DontScan",
                      SerialNumber := 16#6036_18ed,
                      MatchProjectToController := No,
                      CanUseRPIFromProducer := No,
                      InhibitAutomaticFirmwareUpdate := 0)
	DATATYPE Job_Field (FamilyType := NoFamily)
		SINT Field_Index;
		SINT Uniqueness;
		SINT Verify;
		SINT Reserved;
	END_DATATYPE

	DATATYPE LEC_O2T (FamilyType := NoFamily)
		INT X_Offset_mm_x100 (Description := "X axis offset in units of [millimeters times 100]");
		INT Y_Offset_mm_x100 (Description := "Y axis offset in units of [millimeters times 100]");
		INT Rotation_deg_x10 (Description := "Rotation in units of [degrees times 10]");
		INT X_Rotation_Center_mm_x100 (Description := "X coordinate of the center of rotation in units of [millimeters times 100]");
		INT Y_Rotation_Center_mm_x100 (Description := "Y coordinate of the center of rotation in units of [millimeters times 100]");
		INT X_Scale_x1000 (Description := "X scale factor in units of [scale times 1000].  For example, use 1000 for a scale of 1");
		INT Y_Scale_x1000 (Description := "Y scale factor in units of [scale times 1000].  For example, use 1000 for a scale of 1");
		INT Reserved (Description := "Reserved");
		INT Marker_Command (Description := "Numeric command from PLC to marker");
		INT Computed_Job_Field_Index (Description := "The field index number for the computed field");
		INT Mark_Timeout_Sec (Description := "The maximum time to allow for marking [seconds].  An error is generated if this time is exceeded.");
		INT Reserved_1 (Description := "Reserved");
		INT Barcode_Pass_Grade (Description := "Pass grade for barcode verification");
		INT Max_Remarks (Description := "Maximum number of remark attempts if camera verification fails");
		Job_Field Short_Job_Field[5] (Description := "The field index numbers of up to five 32-character string fields");
		Job_Field Long_Job_Field (Description := "The field index numbers of a single 64-character string field");
		String32 Marker_Job_File_Name (Description := "The name of the marker job file to load");
		String32 Camera_Job_File_Name (Description := "The name of the camera job file to load");
		String32 Short_Field_String[5] (Description := "Short string field values [32-characters]");
		String128 Long_Field_String (Description := "Long string field value [128-characters]");
	END_DATATYPE

	DATATYPE LEC_T2O (FamilyType := NoFamily)
		INT Marker_State (Description := "The numeric marker state");
		INT Reserved;
		DINT Last_Mark_Cycle_Time_Ms (Description := "The elapsed cycle time, or cycle time of the last mark in milliseconds");
		DINT Status_Word (Description := "LEC Standard IO word");
		INT Marker_Error_Code (Description := "The marker error code (0 = No Error)");
		INT Controller_Error_Code (Description := "The controller error code (LEC or Couth) (0 = No Error)");
		DINT Heart_Beat (Description := "Heartbeat indicator.  Increasing number.");
		DINT Input_Field_Checksum (Description := "Simple checksum of all input field bytes");
		String32 Echo_Job_File_Name (Description := "An echo of the job file name that has been loaded");
		String128 Results_Field (Description := "A string results field generated by the marker");
		String64 Marker_State_Desc (Description := "A description of the current marker state");
		String128 Marker_Error_Desc (Description := "A description of the current marker error");
	END_DATATYPE

	DATATYPE String128 (FamilyType := StringFamily)
		DINT LEN;
		SINT DATA[128] (Radix := ASCII);
	END_DATATYPE

	DATATYPE String32 (FamilyType := StringFamily)
		DINT LEN;
		SINT DATA[32] (Radix := ASCII);
	END_DATATYPE

	DATATYPE String64 (FamilyType := StringFamily)
		DINT LEN;
		SINT DATA[64] (Radix := ASCII);
	END_DATATYPE

	MODULE Local (Parent := "Local",
	              ParentModPortId := 1,
	              CatalogNumber := "1769-L16ER-BB1B",
	              Vendor := 1,
	              ProductType := 14,
	              ProductCode := 153,
	              Major := 20,
	              Minor := 12,
	              PortLabel := "RxBACKPLANE",
	              ChassisSize := 2,
	              Slot := 0,
	              Mode := 2#0000_0000_0000_0001,
	              CompatibleModule := 0,
	              KeyMask := 2#0000_0000_0000_0000)
	END_MODULE

	MODULE Discrete_IO (Parent := "Local",
	                    ParentModPortId := 1,
	                    CatalogNumber := "Embedded",
	                    Vendor := 1,
	                    ProductType := 7,
	                    ProductCode := 1140,
	                    Major := 20,
	                    Minor := 11,
	                    PortLabel := "RxBACKPLANE",
	                    Slot := 1,
	                    Mode := 2#0000_0000_0000_0001,
	                    CompatibleModule := 1,
	                    KeyMask := 2#0000_0000_0001_1111)
			ExtendedProp := [[[___<public><ConfigID>100</ConfigID></public>___]]]
			ConfigData  := [84,113,1,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000
		,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,1000,0,0,0,0,0,0];
			CONNECTION Data (Rate := 20000,
			                 EventID := 0)
					InputData  := [0,0];
					InputForceData := [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
					OutputData  := [257];
					OutputForceData := [0,0,0,0,0,0,0,0,0,0,0,0];
			END_CONNECTION

	END_MODULE

	MODULE Laser (Parent := "Local",
	              ParentModPortId := 2,
	              CatalogNumber := "0524_002B_0100",
	              Vendor := 1316,
	              ProductType := 43,
	              ProductCode := 256,
	              Major := 2,
	              Minor := 86,
	              PortLabel := "ENet",
	              NodeAddress := "192.168.4.3",
	              Mode := 2#0000_0000_0000_0000,
	              CompatibleModule := 1,
	              KeyMask := 2#0000_0000_0001_1111)
			ExtendedProp := [[[___<public><PL>01<Version Name=$Q1.1$Q/><Connection Name=$Q_200424012C702C64$Q Format=$Q0$Q/></PL></public>___]]]
			CONNECTION _200424012C702C64 (Rate := 10000,
			                              InputSize := 396,
			                              OutputSize := 436,
			                              EventID := 0,
			                              Priority := Scheduled,
			                              InputConnectionType := Unicast,
			                              InputProductionTrigger := Cyclic,
			                              ConnectionPath := "20 04 24 01 2c 70 2c 64",
			                              InputTagSuffix := "I",
			                              OutputTagSuffix := "O")
					InputData  := [0,[0,0,0,0,56,24,0,0,1,0,0,0,0,0,0,0,113,-52,4,0,-63,31,0,0,16,0,0,0,83,101,114,105,101,115,48,95,84,101,120,116,46,100,97,116
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,91,49,93,32,82
		,101,97,100,121,58,32,78,111,116,32,105,110,32,72,111,115,116,32,77,111,100,101,0,97,110,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,78,111,32,101,114,114,111,114,0,58,32,32,76,97,115,101,114,32,110,111,116,32,114,101
		,97,100,121,32,112,114,105,111,114,32,116,111,32,109,97,114,107,105,110,103,32,91,76,69,67,32,85,115,101,114,32,73
		,110,112,117,116,32,49,93,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0]];
					InputForceData := [0,0,0,0,0,0,0,0,56,24,0,0,1,0,0,0,0,0,0,0,123,-52,4,0,-63,31,0,0,16,0,0,0,83,101,114,105,101,115,48,95,84,101,120,116,46,100,97
		,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,91,49,93
		,32,82,101,97,100,121,58,32,78,111,116,32,105,110,32,72,111,115,116,32,77,111,100,101,0,97,110,100,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,78,111,32,101,114,114,111,114,0,58,32,32,76,97,115,101,114,32,110,111,116,32
		,114,101,97,100,121,32,112,114,105,111,114,32,116,111,32,109,97,114,107,105,110,103,32,91,76,69,67,32,85,115,101
		,114,32,73,110,112,117,116,32,49,93,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
					OutputData  := [[0,0,0,0,0,0,0,0,0,0,-24,3,-24,3,0,0,0,0,0,0,-25,3,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,16,0,0,0,83,101,114,105,101,115,48
		,95,84,101,120,116,46,100,97,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76
		,105,110,101,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,5,0,0,0,76,105,110,101,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,0,0,0,50,57,53,46,48,48,44,53,56,57,53,44
		,53,48,48,44,51,48,48,44,51,48,44,55,53,44,49,53,48,44,55,53,44,48,44,52,48,46,48,48,44,50,53,46,48,44,52,44,48,44,48,44,48
		,44,48,46,48,44,48,44,48,44,50,46,53,53,48,44,50,46,53,53,48,44,48,46,48,44,48,46,48,44,48,44,48,44,48,44,48,44,49,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];
					OutputForceData := [0,0,0,0,0,0,0,0,0,0,-24,3,-24,3,0,0,0,0,0,0,-25,3,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,16,0,0,0,83,101,114,105,101,115,48
		,95,84,101,120,116,46,100,97,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76
		,105,110,101,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,5,0,0,0,76,105,110,101,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,0,0,0,50,57,53,46,48,48,44,53,56,57,53,44
		,53,48,48,44,51,48,48,44,51,48,44,55,53,44,49,53,48,44,55,53,44,48,44,52,48,46,48,48,44,50,53,46,48,44,52,44,48,44,48,44,48
		,44,48,46,48,44,48,44,48,44,50,46,53,53,48,44,50,46,53,53,48,44,48,46,48,44,48,46,48,44,48,44,48,44,48,44,48,44,49,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0];
			END_CONNECTION

	END_MODULE

	MODULE T2 (Parent := "Local",
	           ParentModPortId := 2,
	           CatalogNumber := "0524_002B_0100",
	           Vendor := 1316,
	           ProductType := 43,
	           ProductCode := 256,
	           Major := 2,
	           Minor := 86,
	           PortLabel := "ENet",
	           NodeAddress := "192.168.4.6",
	           Mode := 2#0000_0000_0000_0000,
	           CompatibleModule := 1,
	           KeyMask := 2#0000_0000_0001_1111)
			ExtendedProp := [[[___<public><PL>01<Version Name=$Q1.1$Q/><Connection Name=$Q_200424012C702C64$Q Format=$Q0$Q/></PL></public>___]]]
			CONNECTION _200424012C702C64 (Rate := 10000,
			                              InputSize := 396,
			                              OutputSize := 436,
			                              EventID := 0,
			                              Priority := Scheduled,
			                              InputConnectionType := Unicast,
			                              InputProductionTrigger := Cyclic,
			                              ConnectionPath := "20 04 24 01 2c 70 2c 64",
			                              InputTagSuffix := "I",
			                              OutputTagSuffix := "O")
					InputData  := [0,[0,0,0,0,71,19,0,0,0,0,0,0,0,0,0,0,60,-27,41,0,-106,12,0,0,12,0,0,0,84,101,115,116,49,48,48,48,46,116,120,116,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,91,49,93,32,82,101,97,100
		,121,0,114,32,80,76,67,32,116,111,32,100,114,111,112,32,99,111,109,109,97,110,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,8,0,0,0,78,111,32,101,114,114,111,114,0,100,111,101,115,32,110,111,116,32,101,120,105,115,116,0,115
		,105,111,110,0,111,32,99,111,109,109,101,110,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];
					InputForceData := [0,0,0,0,0,0,0,0,71,19,0,0,0,0,0,0,0,0,0,0,64,-27,41,0,-106,12,0,0,12,0,0,0,84,101,115,116,49,48,48,48,46,116,120,116,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,91,49,93,32,82,101,97
		,100,121,0,114,32,80,76,67,32,116,111,32,100,114,111,112,32,99,111,109,109,97,110,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,78,111,32,101,114,114,111,114,0,100,111,101,115,32,110,111,116,32,101,120,105,115,116,0
		,115,105,111,110,0,111,32,99,111,109,109,101,110,99,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
					OutputData  := [[0,0,0,0,0,0,0,0,0,0,-24,3,-24,3,0,0,0,0,0,0,-25,3,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,12,0,0,0,84,101,115,116,49,48,48,48
		,46,116,120,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101
		,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105
		,110,101,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0
		,0,0,76,105,110,101,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0]];
					OutputForceData := [0,0,0,0,0,0,0,0,0,0,-24,3,-24,3,0,0,0,0,0,0,-25,3,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,12,0,0,0,84,101,115,116,49,48,48,48
		,46,116,120,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101
		,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105
		,110,101,51,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,76,105,110,101,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0
		,0,0,76,105,110,101,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
			END_CONNECTION

	END_MODULE

	ADD_ON_INSTRUCTION_DEFINITION Acquire_Host_Mode (Description := "Acquiring host mode for the laser system",
	                                                 Revision := "1.0",
	                                                 Vendor := "Mecco Marking & Traceability",
	                                                 ExecutePrescan := No,
	                                                 ExecutePostscan := No,
	                                                 ExecuteEnableInFalse := No,
	                                                 CreatedDate := "2013-11-15T14:32:16.662Z",
	                                                 CreatedBy := "MECCO\simon.kohnstamm",
	                                                 EditedDate := "2013-12-11T21:47:11.556Z",
	                                                 EditedBy := "MECCO\simon.kohnstamm",
	                                                 SoftwareRevision := "v20.01")
		
		PARAMETERS
			EnableIn : BOOL (Description := "Enable Input - System Defined Parameter",
			                    Usage := Input,
			                    RADIX := Decimal,
			                    Required := No,
			                    Visible := No,
			                    ExternalAccess := Read Only);
			EnableOut : BOOL (Description := "Enable Output - System Defined Parameter",
			                     Usage := Output,
			                     RADIX := Decimal,
			                     Required := No,
			                     Visible := No,
			                     ExternalAccess := Read Only);
			Inputs : LEC_O2T (Description := "Marker Command Register",
			                  Usage := InOut,
			                  Required := Yes,
			                  Visible := Yes);
			Outputs : LEC_T2O (Description := "Marker Status",
			                   Usage := InOut,
			                   Required := Yes,
			                   Visible := Yes);
			Outcome : DINT (Usage := Output,
			                   RADIX := Decimal,
			                   Required := No,
			                   Visible := Yes,
			                   ExternalAccess := Read Only,
			                   DefaultData := 0);
		END_PARAMETERS

		LOCAL_TAGS
			Comment : STRING (ExternalAccess := None,
			                  DefaultData := "[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00']");
			COUNTER : COUNTER (ExternalAccess := None,
			                  DefaultData := "[0,100,0]");
			Debug_Bits : DINT (COMMENT.0 := "Rung0 OR",
			                     RADIX := Decimal,
			                     ExternalAccess := None,
			                     DefaultData := 0);
			nstate : DINT (RADIX := Decimal,
			                 ExternalAccess := None,
			                 DefaultData := 3);
			TIMER : TIMER (ExternalAccess := None,
			                DefaultData := "[0,1000,0]");
			TIMER2 : TIMER (ExternalAccess := None,
			                 DefaultData := "[0,1000,0]");
		END_LOCAL_TAGS

		ROUTINE Logic 
				N: LBL(StateMachine)[EQU(0,Outputs.Marker_State) MOV(1,nstate) ,[EQU(11,Outputs.Marker_State) MOV(2,nstate) ,EQU(1,Outputs.Marker_State) MOV(3,nstate) ] ];
				RC: "Ready$N"
				    "";
				N: EQU(1,nstate)EQU(0,Outputs.Marker_State)MOV(10,Inputs.Marker_Command)MOV(2,nstate);
				RC: "Acquired";
				N: EQU(2,nstate)EQU(Outputs.Marker_State,11)MOV(0,Inputs.Marker_Command)MOV(2,nstate)MOV(1,Outcome);
				N: EQU(3,nstate)EQU(Outputs.Marker_State,1)MOV(0,Inputs.Marker_Command)MOV(1,Outcome)MOV(3,nstate);
		END_ROUTINE

	END_ADD_ON_INSTRUCTION_DEFINITION

	ADD_ON_INSTRUCTION_DEFINITION Clear_Error (Description := "Acquiring host mode for the laser system",
	                                           Revision := "0.6",
	                                           Vendor := "Mecco Marking & Traceability",
	                                           ExecutePrescan := No,
	                                           ExecutePostscan := No,
	                                           ExecuteEnableInFalse := No,
	                                           CreatedDate := "2013-11-15T14:32:16.662Z",
	                                           CreatedBy := "MECCO\simon.kohnstamm",
	                                           EditedDate := "2013-12-09T22:22:04.822Z",
	                                           EditedBy := "MECCO\simon.kohnstamm",
	                                           SoftwareRevision := "v20.01")
		
		PARAMETERS
			EnableIn : BOOL (Description := "Enable Input - System Defined Parameter",
			                    Usage := Input,
			                    RADIX := Decimal,
			                    Required := No,
			                    Visible := No,
			                    ExternalAccess := Read Only);
			EnableOut : BOOL (Description := "Enable Output - System Defined Parameter",
			                     Usage := Output,
			                     RADIX := Decimal,
			                     Required := No,
			                     Visible := No,
			                     ExternalAccess := Read Only);
			Inputs : LEC_O2T (Description := "Marker Command Register",
			                  Usage := InOut,
			                  Required := Yes,
			                  Visible := Yes);
			Outputs : LEC_T2O (Description := "Marker Status",
			                   Usage := InOut,
			                   Required := Yes,
			                   Visible := Yes);
			Outcome : DINT (Usage := Output,
			                   RADIX := Decimal,
			                   Required := No,
			                   Visible := Yes,
			                   ExternalAccess := Read Only,
			                   DefaultData := 0);
		END_PARAMETERS

		LOCAL_TAGS
			Comment : STRING (ExternalAccess := None,
			                  DefaultData := "[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00']");
			COUNTER : COUNTER (ExternalAccess := None,
			                  DefaultData := "[0,100,0]");
			Debug_Bits : DINT (COMMENT.0 := "Rung0 OR",
			                     RADIX := Decimal,
			                     ExternalAccess := None,
			                     DefaultData := 0);
			nstate : DINT (RADIX := Decimal,
			                 ExternalAccess := None,
			                 DefaultData := 0);
			TIMER : TIMER (ExternalAccess := None,
			                DefaultData := "[0,1000,0]");
			TIMER2 : TIMER (ExternalAccess := None,
			                 DefaultData := "[0,1000,0]");
			Remarks : STRING[16] (ExternalAccess := None,
			                  DefaultData := "[[31,'Waiting for PLC to drop command$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00']]");
		END_LOCAL_TAGS

		ROUTINE Logic 
				N: EQU(Outputs.Marker_State_Desc,Remarks[0])MOV(0,Inputs.Marker_Command);
				N: MOV(999,Inputs.Marker_Command);
		END_ROUTINE

	END_ADD_ON_INSTRUCTION_DEFINITION

	ADD_ON_INSTRUCTION_DEFINITION Load_Job (Revision := "0.6",
	                                        Vendor := "Mecco Marking & Traceability",
	                                        ExecutePrescan := No,
	                                        ExecutePostscan := No,
	                                        ExecuteEnableInFalse := No,
	                                        CreatedDate := "2013-11-24T20:01:04.528Z",
	                                        CreatedBy := "MECCO\simon.kohnstamm",
	                                        EditedDate := "2013-12-06T21:21:33.068Z",
	                                        EditedBy := "MECCO\simon.kohnstamm",
	                                        SoftwareRevision := "v20.01")
		
		PARAMETERS
			EnableIn : BOOL (Description := "Enable Input - System Defined Parameter",
			                    Usage := Input,
			                    RADIX := Decimal,
			                    Required := No,
			                    Visible := No,
			                    ExternalAccess := Read Only);
			EnableOut : BOOL (Description := "Enable Output - System Defined Parameter",
			                     Usage := Output,
			                     RADIX := Decimal,
			                     Required := No,
			                     Visible := No,
			                     ExternalAccess := Read Only);
			Inputs : LEC_O2T (Usage := InOut,
			                  Required := Yes,
			                  Visible := Yes);
			Outputs : LEC_T2O (Usage := InOut,
			                   Required := Yes,
			                   Visible := Yes);
			Job_File_Name : STRING (Usage := InOut,
			                         Required := Yes,
			                         Visible := Yes);
			Command_Success : DINT (Usage := Output,
			                           RADIX := Decimal,
			                           Required := Yes,
			                           Visible := Yes,
			                           ExternalAccess := None,
			                           DefaultData := 0);
		END_PARAMETERS

		LOCAL_TAGS
		END_LOCAL_TAGS

		ROUTINE Logic 
				N: [EQU(Job_File_Name,Outputs.Echo_Job_File_Name) [EQU(Outputs.Marker_State,1) JMP(Done) MOV(1,Command_Success) ,NEQ(Outputs.Marker_State,1) JMP(ToZero) ] ,NEQ(Job_File_Name,Outputs.Echo_Job_File_Name) NOP() ];
				N: COP(Job_File_Name.DATA[0],Inputs.Marker_Job_File_Name.DATA[0],Job_File_Name.LEN)MOV(Job_File_Name.LEN,Inputs.Marker_Job_File_Name.LEN);
				N: EQU(Outputs.Marker_State,1)MOV(100,Inputs.Marker_Command);
				N: LBL(ToZero)EQU(Outputs.Marker_State,110)MOV(0,Inputs.Marker_Command)MOV(1,Command_Success);
				N: LBL(Done)NOP();
		END_ROUTINE

	END_ADD_ON_INSTRUCTION_DEFINITION

	ADD_ON_INSTRUCTION_DEFINITION Release_Host_Control (Description := "Releases Host Control of Laser Unit",
	                                                    Revision := "1.0",
	                                                    Vendor := "Mecco Marking & Traceability",
	                                                    ExecutePrescan := No,
	                                                    ExecutePostscan := No,
	                                                    ExecuteEnableInFalse := No,
	                                                    CreatedDate := "2013-11-15T20:11:19.001Z",
	                                                    CreatedBy := "MECCO\simon.kohnstamm",
	                                                    EditedDate := "2013-11-20T16:51:41.018Z",
	                                                    EditedBy := "MECCO\simon.kohnstamm",
	                                                    SoftwareRevision := "v20.01")
		
		PARAMETERS
			EnableIn : BOOL (Description := "Enable Input - System Defined Parameter",
			                    Usage := Input,
			                    RADIX := Decimal,
			                    Required := No,
			                    Visible := No,
			                    ExternalAccess := Read Only);
			EnableOut : BOOL (Description := "Enable Output - System Defined Parameter",
			                     Usage := Output,
			                     RADIX := Decimal,
			                     Required := No,
			                     Visible := No,
			                     ExternalAccess := Read Only);
			Inputs : LEC_O2T (Description := "Marker Command Register",
			                  Usage := InOut,
			                  Required := Yes,
			                  Visible := Yes);
			Outputs : LEC_T2O (Description := "Marker Status",
			                   Usage := InOut,
			                   Required := Yes,
			                   Visible := Yes);
		END_PARAMETERS

		LOCAL_TAGS
			Comment : STRING (ExternalAccess := None,
			                  DefaultData := "[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00']");
			nstate : DINT (RADIX := Decimal,
			                 ExternalAccess := None,
			                 DefaultData := 0);
			TIMER : TIMER (ExternalAccess := None,
			                DefaultData := "[0,1000,0]");
			TIMER2 : TIMER (ExternalAccess := None,
			                 DefaultData := "[0,1000,0]");
		END_LOCAL_TAGS

		ROUTINE Logic 
				N: LBL(StateMachine)RES(TIMER)RES(TIMER2)[EQU(1,Outputs.Marker_State) JMP(Ready) ,[EQU(21,Outputs.Marker_State) JMP(Dropping) ,EQU(0,Outputs.Marker_State) JMP(Offline) ] ];
				RC: "Ready$N"
				    "";
				N: LBL(Ready)EQU(1,Outputs.Marker_State)MOV(20,Inputs.Marker_Command)TON(TIMER,?,?)XIC(TIMER.DN)MOV(1,nstate)JMP(StateMachine);
				RC: "Acquired";
				N: LBL(Dropping)EQU(Outputs.Marker_State,21)MOV(0,Inputs.Marker_Command)TON(TIMER2,?,?)XIC(TIMER2.DN)MOV(2,nstate)JMP(StateMachine);
				N: LBL(Offline)EQU(Outputs.Marker_State,0)MOV(3,nstate)MOV(0,Inputs.Marker_Command);
		END_ROUTINE

	END_ADD_ON_INSTRUCTION_DEFINITION

	TAG
		Dot_Peen_Input : LEC_O2T  := [0,0,0,0,0,1000,1000,0,0,0,999,0,0,0,[[1,0,0,0],[2,0,0,0],[3,0,0,0],[4,0,0,0],[5,0,0,0]],[0,0,0,0],[12,'Test1000.txt$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[[5,'Line1$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line2$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line3$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line4$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line5$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]];
		Dot_Peen_Output : LEC_T2O  := [0,0,4935,0,0,0,2745686,3222,[12,'Test1000.txt$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[9,'[1] Ready$00r PLC to drop command$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[8,'No error$00does not exist$00sion$00o commence$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]];
		Laser_Inputs : LEC_O2T  := [0,0,0,0,0,1000,1000,0,0,0,999,0,0,0,[[1,0,0,0],[2,0,0,0],[3,0,0,0],[4,0,0,0],[5,0,0,0]],[0,0,0,0],[16,'Series0_Text.dat$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[[5,'Line1$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line2$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line3$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line4$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[5,'Line5$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]],[91,'295.00,5895,500,300,30,75,150,75,0,40.00,25.0,4,0,0,0,0.0,0,0,2.550,2.550,0.0,0.0,0,0,0,0,1$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]];
		Laser_Outputs : LEC_T2O  := [0,0,6200,1,0,0,314481,8129,[16,'Series0_Text.dat$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[27,'[1] Ready: Not in Host Mode$00and$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				],[8,'No error$00:  Laser not ready prior to marking [LEC User Input 1]$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
				]];
	END_TAG

	PROGRAM MainProgram (MAIN := "MainRoutine",
	                     MODE := 0,
	                     DisableFlag := 0)
			TAG
				bDotPeenEnabled : BOOL (RADIX := Decimal) := 1;
				Blank_String : String32  := [0,'$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						];
				bLaserEnabled : BOOL (RADIX := Decimal) := 1;
				bPauseDotPeen : BOOL (RADIX := Decimal) := 0;
				bPauseLaser : BOOL (RADIX := Decimal) := 0;
				B_Reset_Marker : BOOL (RADIX := Decimal) := 0;
				Dot_Peen_Job_File_Name : String32  := [12,'Test1000.txt$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'];
				Dot_Peen_Run_Counter : COUNTER  := [-1610612736,0,4];
				Dot_Peen_Start_Button : BOOL (RADIX := Decimal) := 1;
				Field : String32[5]  := [[5,'Line1$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						],[5,'Line2$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						],[5,'Line3$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						],[5,'Line4$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						],[5,'Line5$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00'
						]];
				Job_File_Name : STRING  := [16,'Series0_Text.dat$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00$00895,$10$00$00$80($00$00$80$04g0$F1$C4$12$00$00=$81DF$84$00$00$00`$00$00$00295.00,5895,500,30'
						];
				Laser_Heartbeat_Old : DINT (RADIX := Decimal) := 1306452;
				LASER_RUNNING : BOOL (RADIX := Decimal) := 0;
				Laser_Run_Counter : COUNTER  := [-1610612736,0,5];
				LEC_Latch : BOOL (RADIX := Decimal) := 0;
				lHeartbeat_Check : BOOL (RADIX := Decimal) := 1;
				lheartbeat_Timer : TIMER  := [0,1000,0];
				l_hstate : DINT (RADIX := Decimal) := 0;
				l_on : TIMER  := [266855,12000,0];
				nState : DINT (RADIX := Decimal) := 0;
				nState_DotPeen : DINT (RADIX := Decimal) := 13;
				Reset_Dot_Peen_Counter : BOOL (RADIX := Decimal) := 0;
				Reset_Laser_Counter : BOOL (RADIX := Decimal) := 0;
				Start_Button : BOOL (RADIX := Decimal) := 1;
				T2_Latch : BOOL (RADIX := Decimal) := 0;
				T_MarkerResetTimer : TIMER  := [0,0,0];
			END_TAG

			ROUTINE LEC 
					N: OTU(LASER_RUNNING)[XIC(B_Reset_Marker) ,XIC(T_MarkerResetTimer.EN) ]XIO(T_MarkerResetTimer.DN)[MOV(0,nState) ,MOV(999,Laser_Inputs.Marker_Command) ,TON(T_MarkerResetTimer,?,?) XIC(T_MarkerResetTimer.DN) MOV(0,Laser_Inputs.Marker_Command) OTU(B_Reset_Marker) ];
					RC: "Wait for the start command";
					N: EQU(nState,0)XIC(Start_Button)OTL(LASER_RUNNING)MOV(1,nState);
					N: EQU(nState,1)MOV(10,Laser_Inputs.Marker_Command)MOV(2,nState);
					N: EQU(nState,2)EQU(Laser_Outputs.Marker_State,19)MOV(0,Laser_Inputs.Marker_Command)MOV(3,nState);
					RC: "Wait for LEC ready";
					N: EQU(nState,3)EQU(Laser_Outputs.Marker_State,1)MOV(4,nState);
					RC: "Set the laser job file name and set the command to load the job file";
					N: EQU(nState,4)[CPS(Job_File_Name.DATA[0],Laser_Inputs.Marker_Job_File_Name.DATA[0],32) ,MOV(999,Laser_Inputs.Mark_Timeout_Sec) ]MOV(Job_File_Name.LEN,Laser_Inputs.Marker_Job_File_Name.LEN)MOV(100,Laser_Inputs.Marker_Command)MOV(5,nState);
					RC: "Wait for job file loaded, then drop the command";
					N: EQU(nState,5)EQU(Laser_Outputs.Marker_State,109)MOV(0,Laser_Inputs.Marker_Command)MOV(6,nState);
					RC: "Wait for LEC ready";
					N: EQU(nState,6)EQU(Laser_Outputs.Marker_State,1)MOV(7,nState);
					N: EQU(nState,7)[MOV(1,Laser_Inputs.Short_Job_Field[0].Field_Index) MOV(2,Laser_Inputs.Short_Job_Field[1].Field_Index) MOV(3,Laser_Inputs.Short_Job_Field[2].Field_Index) MOV(4,Laser_Inputs.Short_Job_Field[3].Field_Index) MOV(5,Laser_Inputs.Short_Job_Field[4].Field_Index) ,COP(Field[0].DATA[0],Laser_Inputs.Short_Field_String[0].DATA[0],32) COP(Field[1].DATA[0],Laser_Inputs.Short_Field_String[1].DATA[0],32) COP(Field[2].DATA[0],Laser_Inputs.Short_Field_String[2].DATA[0],32) COP(Field[3].DATA[0],Laser_Inputs.Short_Field_String[3].DATA[0],32) COP(Field[4].DATA[0],Laser_Inputs.Short_Field_String[4].DATA[0],32) ,MOV(Field[0].LEN,Laser_Inputs.Short_Field_String[0].LEN) MOV(Field[1].LEN,Laser_Inputs.Short_Field_String[1].LEN) MOV(Field[2].LEN,Laser_Inputs.Short_Field_String[2].LEN) MOV(Field[3].LEN,Laser_Inputs.Short_Field_String[3].LEN) MOV(Field[4].LEN,Laser_Inputs.Short_Field_String[4].LEN) ,MOV(0,Laser_Inputs.Rotation_deg_x10) MOV(0,Laser_Inputs.X_Offset_mm_x100) MOV(0,Laser_Inputs.Y_Offset_mm_x100) MOV(1000,Laser_Inputs.X_Scale_x1000) MOV(1000,Laser_Inputs.Y_Scale_x1000) ,MOV(8,nState) ];
					N: EQU(nState,8)MOV(200,Laser_Inputs.Marker_Command)MOV(9,nState);
					RC: "Wait for mark complete from LEC, and drop command";
					N: EQU(nState,9)EQU(Laser_Outputs.Marker_State,209)MOV(0,Laser_Inputs.Marker_Command)MOV(10,nState);
					RC: "Wait for LEC ready";
					N: EQU(nState,10)EQU(Laser_Outputs.Marker_State,1)MOV(11,nState);
					N: EQU(nState,11)MOV(20,Laser_Inputs.Marker_Command)MOV(12,nState);
					N: EQU(nState,12)EQU(Laser_Outputs.Marker_State,29)MOV(0,Laser_Inputs.Marker_Command)MOV(13,nState);
					RC: "Wait for LEC ready";
					N: EQU(nState,13)EQU(Laser_Outputs.Marker_State,0)CTU(Laser_Run_Counter,?,?)OTU(LEC_Latch)MOV(0,nState);
					N: RET();
			END_ROUTINE

			ROUTINE MainRoutine 
					RC: "Copy the local PLC structure to the LEC via Ethernert IP.  Copy 332 bytes.";
					N: COP(Laser_Inputs,Laser:O.Data[0],436);
					RC: "Copy Ethernet IP data from the LEC to local PLC structure.  Length is $'1$' because we are copying a single structure.";
					N: COP(Laser:I.Data[0],Laser_Outputs,1);
					RC: "Copy the local PLC structure to the Couth T2 via Ethernert IP.  Copy 332 bytes.";
					N: COP(Dot_Peen_Input,T2:O.Data[0],436);
					RC: "Copy Ethernet IP data from the Couth T2 to local PLC structure.  Length is $'1$' because we are copying a single structure.";
					N: COP(T2:I.Data[0],Dot_Peen_Output,1);
					N: XIC(Reset_Dot_Peen_Counter)RES(Dot_Peen_Run_Counter);
					N: XIC(Reset_Laser_Counter)RES(Laser_Run_Counter);
					N: XIC(bLaserEnabled)XIO(bPauseLaser)XIC(Local:1:I.Data.0)MOV(0,nState)OTL(LEC_Latch);
					N: XIC(LEC_Latch)JSR(LEC,0);
					N: XIC(bDotPeenEnabled)XIO(bPauseDotPeen)XIC(Local:1:I.Data.1)MOV(0,nState_DotPeen)OTL(T2_Latch);
					N: XIC(T2_Latch)JSR(T2,0);
					N: [XIO(Laser:I.ConnectionFaulted) OTL(Local:1:O.Data.0) ,XIC(Laser:I.ConnectionFaulted) OTU(Local:1:O.Data.0) ];
					N: [XIO(T2:I.ConnectionFaulted) OTL(Local:1:O.Data.8) ,XIC(T2:I.ConnectionFaulted) OTU(Local:1:O.Data.8) ];
					N: EQU(Laser_Outputs.Marker_State,999)OTE(Local:1:O.Data.7);
					N: EQU(Dot_Peen_Output.Marker_State,999)OTE(Local:1:O.Data.15);
			END_ROUTINE

			ROUTINE T2 
					N: [XIC(B_Reset_Marker) ,XIC(T_MarkerResetTimer.EN) ]XIO(T_MarkerResetTimer.DN)[MOV(0,nState_DotPeen) ,MOV(999,Dot_Peen_Input.Marker_Command) ,TON(T_MarkerResetTimer,?,?) XIC(T_MarkerResetTimer.DN) MOV(0,Dot_Peen_Input.Marker_Command) OTU(B_Reset_Marker) ];
					RC: "Wait for the start command";
					N: EQU(nState_DotPeen,0)XIC(Dot_Peen_Start_Button)MOV(1,nState_DotPeen);
					N: EQU(nState_DotPeen,1)MOV(10,Dot_Peen_Input.Marker_Command)MOV(2,nState_DotPeen);
					N: EQU(nState_DotPeen,2)EQU(Dot_Peen_Output.Marker_State,19)MOV(0,Dot_Peen_Input.Marker_Command)MOV(3,nState_DotPeen);
					RC: "Wait for LEC ready";
					N: EQU(nState_DotPeen,3)EQU(Dot_Peen_Output.Marker_State,0)MOV(4,nState_DotPeen);
					RC: "Set the laser job file name and set the command to load the job file";
					N: EQU(nState_DotPeen,4)[CPS(Dot_Peen_Job_File_Name.DATA[0],Dot_Peen_Input.Marker_Job_File_Name.DATA[0],32) ,MOV(999,Dot_Peen_Input.Mark_Timeout_Sec) ]MOV(Dot_Peen_Job_File_Name.LEN,Dot_Peen_Input.Marker_Job_File_Name.LEN)MOV(100,Dot_Peen_Input.Marker_Command)MOV(5,nState_DotPeen);
					RC: "Wait for job file loaded, then drop the command";
					N: EQU(nState_DotPeen,5)EQU(Dot_Peen_Output.Marker_State,109)MOV(0,Dot_Peen_Input.Marker_Command)MOV(6,nState_DotPeen);
					RC: "Wait for Couth T2 ready";
					N: EQU(nState_DotPeen,6)EQU(Dot_Peen_Output.Marker_State,0)MOV(7,nState_DotPeen);
					N: EQU(nState_DotPeen,7)[MOV(1,Dot_Peen_Input.Short_Job_Field[0].Field_Index) MOV(2,Dot_Peen_Input.Short_Job_Field[1].Field_Index) MOV(3,Dot_Peen_Input.Short_Job_Field[2].Field_Index) MOV(4,Dot_Peen_Input.Short_Job_Field[3].Field_Index) MOV(5,Dot_Peen_Input.Short_Job_Field[4].Field_Index) ,COP(Field[0].DATA[0],Dot_Peen_Input.Short_Field_String[0].DATA[0],32) COP(Field[1].DATA[0],Dot_Peen_Input.Short_Field_String[1].DATA[0],32) COP(Field[2].DATA[0],Dot_Peen_Input.Short_Field_String[2].DATA[0],32) COP(Field[3].DATA[0],Dot_Peen_Input.Short_Field_String[3].DATA[0],32) COP(Field[4].DATA[0],Dot_Peen_Input.Short_Field_String[4].DATA[0],32) ,MOV(Field[0].LEN,Dot_Peen_Input.Short_Field_String[0].LEN) MOV(Field[1].LEN,Dot_Peen_Input.Short_Field_String[1].LEN) MOV(Field[2].LEN,Dot_Peen_Input.Short_Field_String[2].LEN) MOV(Field[3].LEN,Dot_Peen_Input.Short_Field_String[3].LEN) MOV(Field[4].LEN,Dot_Peen_Input.Short_Field_String[4].LEN) ,MOV(0,Dot_Peen_Input.Rotation_deg_x10) MOV(0,Dot_Peen_Input.X_Offset_mm_x100) MOV(0,Dot_Peen_Input.Y_Offset_mm_x100) MOV(1000,Dot_Peen_Input.X_Scale_x1000) MOV(1000,Dot_Peen_Input.Y_Scale_x1000) ,MOV(8,nState_DotPeen) ];
					N: EQU(nState_DotPeen,8)MOV(200,Dot_Peen_Input.Marker_Command)MOV(9,nState_DotPeen);
					RC: "Wait for mark complete from Couth T2, and drop command";
					N: EQU(nState_DotPeen,9)EQU(Dot_Peen_Output.Marker_State,209)MOV(0,Dot_Peen_Input.Marker_Command)MOV(10,nState_DotPeen);
					RC: "Wait for Couth T2 ready";
					N: EQU(nState_DotPeen,10)EQU(Dot_Peen_Output.Marker_State,0)MOV(11,nState_DotPeen);
					N: EQU(nState_DotPeen,11)MOV(20,Dot_Peen_Input.Marker_Command)MOV(12,nState_DotPeen);
					N: EQU(nState_DotPeen,12)EQU(Dot_Peen_Output.Marker_State,29)MOV(0,Dot_Peen_Input.Marker_Command)MOV(13,nState_DotPeen);
					RC: "Wait for Couth T2 ready";
					N: EQU(nState_DotPeen,13)EQU(Dot_Peen_Output.Marker_State,0)CTU(Dot_Peen_Run_Counter,?,?)OTU(T2_Latch)MOV(0,nState_DotPeen);
					N: RET();
			END_ROUTINE

	END_PROGRAM

	TASK MainTask (Type := CONTINUOUS,
	               Rate := 10,
	               Priority := 10,
	               Watchdog := 500,
	               DisableUpdateOutputs := No,
	               InhibitTask := No)
			MainProgram;
	END_TASK

CONFIG CST(SystemTimeMasterID := 0) END_CONFIG

CONFIG EthernetNetwork(SupervisorModeEnabled := 0,
	                                 SupervisorPrecedence := 0,
	                                 BeaconInterval := 400,
	                                 BeaconTimeout := 1960,
	                                 VLANID := 0) END_CONFIG

CONFIG EthernetPort1(PortEnabled := 1,
	                             AutoNegotiateEnabled := 1) END_CONFIG

CONFIG EthernetPort2(PortEnabled := 1,
	                             AutoNegotiateEnabled := 1) END_CONFIG

CONFIG InternetProtocol(ConfigType := Manual,
	                                   IPAddress := "192.168.4.5",
	                                   SubnetMask := "255.255.255.0",
	                                   Gateway := "192.168.4.1",
	                                   PrimaryDNS := "0.0.0.0",
	                                   SecondaryDNS := "0.0.0.0") END_CONFIG

CONFIG TimeSynchronize(Priority1 := 128,
	                                 Priority2 := 128,
	                                 PTPEnable := 0) END_CONFIG

CONFIG WallClockTime(LocalTimeAdjustment := 0,
	                     TimeZone := 0) END_CONFIG

END_CONTROLLER

